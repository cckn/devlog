---
title: ì•Œê³ ë¦¬ì¦˜ í’€ì´ - ë³´ì„ ì‡¼í•‘
date: 2021-01-09 03:03:76
category: algorithm
thumbnail: { thumbnailSrc }
draft: false
---

![picture 22](images/2021-03-09/ba0118f82c0feeca7e76871c011166f54043143d3dd0994493963b5334b3472f.png)

# [ì¹´ì¹´ì˜¤ ì¸í„´] ë³´ì„ ì‡¼í•‘

[ë¬¸ì œ ë§í¬](https://programmers.co.kr/learn/courses/30/lessons/67258)

# íš¨ìœ¨ì„±

## ë¬¸ì œ ìš”ì•½

> ## Input
>
> ì§„ì—´ëŒ€ ë²ˆí˜¸ ìˆœì„œëŒ€ë¡œ ë³´ì„ë“¤ì˜ ì´ë¦„ì´ ì €ì¥ëœ ë°°ì—´ gems
>
> ## output
>
> ê°€ì¥ ì§§ì€ êµ¬ê°„ì˜ ì‹œì‘ ì§„ì—´ëŒ€ ë²ˆí˜¸ì™€ ë ì§„ì—´ëŒ€ ë²ˆí˜¸ë¥¼ ì°¨ë¡€ëŒ€ë¡œ ë°°ì—´ì— ë‹´ì•„ì„œ return í•˜ë„ë¡ í•˜ë©°, ë§Œì•½ ê°€ì¥ ì§§ì€ êµ¬ê°„ì´ ì—¬ëŸ¬ ê°œë¼ë©´ ì‹œì‘ ì§„ì—´ëŒ€ ë²ˆí˜¸ê°€ ê°€ì¥ ì‘ì€ êµ¬ê°„ì„ return í•©ë‹ˆë‹¤.

## í•´ê²°ë°©ë²•

### íš¨ìœ¨ì„±ì„ ì œì¹˜ê³  ë– ì˜¤ë¥´ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ìœ¼ë¡œ ìƒê°í•´ë³´ì

1. ì œì¼ ì•ì—ì„œë¶€í„° ë³´ì„ì˜ ìˆ˜ëŸ‰ + në§Œí¼ ê³¨ë¼ì„œ ì „ì²´ ë³´ì„ì˜ ìˆ˜ëŸ‰ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ë°©ë²•

ì •í™•ë„ì—ëŠ” ì´ìƒì´ ì—†ì§€ë§Œ ì‹œê°„ì´ˆê³¼ ë°œìƒ 2. íˆ¬í¬ì¸í„° ì•Œê³ ë¦¬ì¦˜

1. ë¬¸ì œ ìì²´ëŠ” ì „í˜•ì ì¸ íˆ¬í¬ì¸í„° ì•Œê³ ë¦¬ì¦˜ì´ì§€ë§Œ... ê·¸ë ‡ê²Œ í’€ë©´ ì‹œê°„ ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.(ë‚´ê°€ ì˜ëª»í•œ ê±¸ì§€ë„?)
2. `Map`ì„ ì´ìš©
   1. ìˆœíšŒë¥¼ í•˜ë©´ì„œ
   2. `Map`ì— ë³´ì„ì„ ë‹´ê³ 
   3. `Map`ì˜ í¬ê¸°ê°€ ë³´ì„ì˜ ì¢…ë¥˜ì™€ ê°™ì•„ì§ˆ ë•Œë¥¼ ì €ì¥í•œë‹¤

## ì†ŒìŠ¤ì½”ë“œ

### ìµœì´ˆ

```ts
function solution(gems) {
  const gemsCount = new Set(gems).size
  for (let i = 0; i < gems.length; i++)
    for (let j = 0; j <= gems.length - gemsCount - i; j++) {
      const start = j
      const end = j + gemsCount + i
      if (new Set(gems.slice(start, end)).size === gemsCount)
        return [start + 1, end]
    }
}
```

ì •í™•ë„ ì¤‘ 1ê°œ, íš¨ìœ¨ì„± ëª¨ë‘ ì‹¤íŒ¨í–ˆë‹¤.

ì‹œê°„ë³µì¡ë„ê°€ ë„ˆë¬´ ë†’ì•„ì§„ ê²ƒì´ ë¬¸ì œ.

ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

### j íŠœë‹

```ts
function solution(gems: string[]): number[] {
  const gemsCount = new Set(gems).size

  for (let i = 0; i < gems.length; i++)
    for (let j = 0; j <= gems.length - gemsCount - i; j) {
      const start = j
      const end = j + gemsCount + i
      const gap = gemsCount - new Set(gems.slice(start, end)).size
      if (gap === 0) return [start + 1, end]
      j = j + gap
    }
}
```

ì´ì¤‘ í¬ë¬¸ ì¤‘ ì•ˆìª½ í¬ë¬¸ì„ +1ì”© ì´ ì•„ë‹ˆë¼ ë¶€ì¡±í•œ ë³´ì„ ìˆ˜ëŸ‰ë§Œí¼ ê±´ë„ˆë›°ë„ë¡ ìˆ˜ì •í–ˆë‹¤.

ì •í™•ì„± í…ŒìŠ¤íŠ¸ ì¤‘ í•˜ë‚˜ ë” í†µê³¼í•˜ê¸°ëŠ” í–ˆëŠ”ë° ë‚˜ë¨¸ì§€ëŠ” ì—¬ì „íˆ ì‹¤íŒ¨ë‹¤.

ì–´ë–»ê²Œ í•´ì•¼ ì²˜ë¦¬ê°€ ë ê¹Œ.

ì´ ì •ë„ë¡œ ì‹¤íŒ¨ê°€ ëœ¬ë‹¤ëŠ” ê±´ ë‹¤ë¥¸ ì•Œê³ ë¦¬ì¦˜

### ë°”ì´ë„ˆë¦¬ ì„œì¹˜ì™€ ë¹„ìŠ·í•˜ê²Œ...

ì ‘ê·¼í•˜ì˜€ìœ¼ë‚˜ ì—¬ì „íˆ ì‹¤íŒ¨...

ë¡œì»¬ì—ì„œ í•  ë•Œì—ëŠ” í›¨ì”¬ ë¹ ë¥´ê²Œ ìˆ˜í–‰ë˜ëŠ”ë°

ë¬¸ì œì˜ ìš”êµ¬ì‚¬í•­ì—ëŠ” ë¯¸ì¹˜ì§€ ëª»í•˜ë‚˜ë³´ë‹¤

```ts
function solution(gems) {
  const target = new Set(gems).size
  const getGems = num => {
    for (let i = 0; i <= gems.length - num; i) {
      const start = i
      const end = i + num
      const gap = target - new Set(gems.slice(start, end)).size
      if (gap === 0) {
        return [start + 1, end]
      }
      i = i + gap
    }
    return null
  }
  let willShift = false
  let min = []
  for (let i = gems.length; i <= gems.length; i) {
    const result = getGems(i)
    if (willShift) {
      if (result) return result
      i++
    } else {
      if (result) {
        i = Math.floor(i / 2)
        min = result
      } else {
        i = target
        willShift = true
      }
    }
  }
  return min
}
```

### íˆ¬í¬ì¸í„° ì•Œê³ ë¦¬ì¦˜

ë§‰ë§‰í•¨ì— ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ íˆ¬í¬ì¸í„° ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ í•´ê²°ê°€ëŠ¥í•  ê²ƒ ê°™ë‹¤.

íˆ¬ í¬ì¸í„° ì•Œê³ ë¦¬ì¦˜ì€ ë°°ì—´ì˜ startì™€ endë¥¼ ì ì°¨ë¡œ ì¦ê°€ì‹œì¼œ ê²€ìƒ‰í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ O(n)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.

ê·¸ ì „ ì™„ì „íƒìƒ‰ìœ¼ë¡œ ì ‘ê·¼í–ˆì„ ë•Œì—ëŠ” ì–´ë–»ê²Œ íš¨ìœ¨í™”ë¥¼ í•˜ë”ë¼ë„ O(n)ì´ ì†Œìš”ëœë‹¤.

```ts
function solution(gems: string[]): number[] {
  const target = new Set(gems).size
  let start = 0
  let end = 1

  let result: { length: number; position: number[] } = {
    length: Infinity,
    position: [],
  }

  while (end <= gems.length) {
    const getGems = new Set(gems.slice(start, end))
    if (getGems.size === target) {
      if (result.length > end - start) {
        result = { length: end - start, position: [start + 1, end] }
      }
      start++
    } else {
      end++
    }
  }

  return result.position
}
```

### íˆ¬í¬ì¸í„° ì‹œê°„ ì´ˆê³¼...

ê·¸ë˜ë„ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼ ëª»í•œë‹¤...

```ts
const getGems = new Set(gems.slice(start, end))
```

ë¶€ë¶„ì´ ë¬¸ì œê°€ ì•„ë‹Œê°€ ì‹¶ì€ë°

í•´ë‹¹ ë¶€ë¶„ì„ slice ì“°ì§€ë§ê³  ë°°ì—´ì— ì§ì ‘ ì ‘ê·¼í•´ì„œ í•´ê²°í•´ë³´ì

### `Map`ì„ ì´ìš©í•´ë³´ì

Mapì— Key Valueë¥¼ ë‹´ì•„ë‘ê³  Map.sizeê°€ gemkindì™€ ê°™ì•„ì§€ë©´ pushí•˜ëŠ” ë°©ë²•

valueê°€ ê° ë³´ì„ë“¤ì˜ idxì´ë‹¤.

```ts
function solution(gems: string[]): number[] {
  const gemsKind = new Set(gems).size
  const gemsMap: Map<string, number> = new Map()
  const results: number[][] = []

  for (let i = 0; i < gems.length; i++) {
    gemsMap.set(gems[i], i)
    if (gemsMap.size === gemsKind) {
      const gemsArr = [...gemsMap.entries()].sort((a, b) => a[1] - b[1])

      results.push([gemsArr[0][1] + 1, gemsArr[gemsKind - 1][1] + 1])
      gemsMap.delete(gemsArr[0][0])
    }
  }

  results.sort((a, b) => {
    const aLength = a[1] - a[0]
    const bLength = b[1] - b[0]
    if (aLength === bLength) {
      return 0 // a[0] - b[0]
    }
    return aLength - bLength
  })
  return results[0]
}
export default solution
```

íš¨ìœ¨ì„± 1ë²ˆì—ì„œ ì‹œê°„ì´ˆê³¼ ë°œìƒ...

ë‹¤ì‹œ ì†ŒìŠ¤ì½”ë“œë¥¼ ëœ¯ì–´ë³´ì....

### ê°œì„ 

ì†ë„ ê°œì„ ì´ ì´ë¤„ì§ˆë§Œí•œ ë¶€ë¶„ì€ ë‘ ë¶€ë¶„ì´ë‹¤.

1. `results`ì— ëª¨ì•„ì„œ ì²˜ë¦¬í•˜ì§€ ë§ê³  ì¡°ê±´ì— ë§ëŠ” ë‹µì„ ì°¾ì•˜ì„ ë•Œ ë¹„êµí•´ì„œ ê°€ì§€ê³  ìˆëŠ”ë‹¤.
2. `gemsMap`ì— ë³´ì„ì´ ëª¨ì˜€ì„ ë•Œ `entries().sort()`í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‹œê°„ë³µì¡ë„ê°€ ì¶”ê°€ëœë‹¤.
   1. ë³´ì„ì˜ ì¢…ë¥˜ê°€ ë§ìœ¼ë©´ ë§ì„ìˆ˜ë¡ ì •ë ¬ì‹œê°„ì´ ì¶”ê°€ë˜ê³  ì´ë¡œ ì¸í•´ O(n)ê°™ì•„ ë³´ì´ì§€ë§Œ o(n^2)ìœ¼ë¡œ ë³€í•œë‹¤.
   2. í•˜ì—¬ í•´ë‹¹ ë¶€ë¶„ì€ ëœ¯ì–´ë´¤ëŠ”ë°... valuesë§Œ ê°€ì ¸ì™€ì„œ minmax êµ¬í•˜ê³  ì‚¬ìš©í•˜ëŠ” ì†ŒìŠ¤ë¡œ ë³€ê²½

```ts
function solution(gems) {
  const gemsKind = new Set(gems).size
  const gemsMap = new Map()
  let result = [0, Infinity]
  const results = []
  for (let i = 0; i < gems.length; i++) {
    gemsMap.set(gems[i], i)
    if (gemsMap.size === gemsKind) {
      const gemsArr = [...gemsMap.values()]
      const start = Math.min(...gemsArr)
      const end = Math.max(...gemsArr)
      if (result[1] - result[0] > end - start) {
        result = [start + 1, end + 1]
      }
      gemsMap.delete(gems[start])
    }
  }
  return result
}
```

ê²¨ìš°ê²¨ìš° í†µê³¼. í•œ ë¬¸ì œì— ê±°ì˜ ì´í‹€, ìˆœ ì‹œê°„ìœ¼ë¡œëŠ” 5ì‹œê°„? ì •ë„ íˆ¬ìí•œ ê²ƒ ê°™ë‹¤.

ê³ ìƒí•œë§Œí¼ ì ìˆ˜ëŠ” ì˜¬ëë‹¤(+9)

ê·¸ë§Œí¼ ë‚´ ì‹¤ë ¥ì´ ì˜¬ë¼ê°”ê¸°ë¥¼ ğŸ™

### ëª¨ë²”ë‹µì•ˆ ì°¸ì¡°

```ts
function solution(gems: string[]): number[] {
  const gemVarietyCounts = new Set(gems).size

  const gemMap = new Map()
  const gemLengths: any[] = []
  gems.forEach((gem, i) => {
    gemMap.delete(gem)
    gemMap.set(gem, i)
    if (gemMap.size === gemVarietyCounts) {
      gemLengths.push([gemMap.values().next().value + 1, i + 1])
    }
  })

  gemLengths.sort((a, b) => {
    if (a[1] - a[0] === b[1] - b[0]) {
      return a[1] - b[1]
    }
    return a[1] - a[0] - (b[1] - b[0])
  })

  return gemLengths[0]
}

export default solution
```

ìœ„ ì†ŒìŠ¤ê°€ ëª¨ë²”ë‹µì¸ì¸ë° ë‚˜ëŠ” ì‹œê°„ì„ ì¤„ì´ê¸° ìœ„í•´ ë‹µì•ˆì„ ì €ì¥í•œ ë°°ì—´ë„ ì§€ìš°ê³  ë‚œë¦¬ë¥¼ ì³¤ëŠ”ë° ì´ ì†ŒìŠ¤ëŠ” ê·¸ ë¶€ë¶„ì„ ì§€ìš°ì§€ ì•Šê³ ë„ í†µê³¼ë¥¼ í–ˆë”ë¼.

ì–´ë–¤ ë¶€ë¶„ì´ ì°¨ì´ì¸ê°€ í•´ì„œ ë³´ë‹ˆ

```ts
gems.forEach((gem, i) => {
  gemMap.delete(gem)
  gemMap.set(gem, i)
  if (gemMap.size === gemVarietyCounts) {
    gemLengths.push([gemMap.values().next().value + 1, i + 1])
  }
})
```

í•´ë‹¹ ë¶€ë¶„ì—ì„œ ë‚˜ëŠ” startì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ êµ¬í•˜ê¸° ìœ„í•´ `value()`ë¥¼ ë°°ì—´ë¡œ ë°”ê¾¸ê³ (`[...values()]`) `Math.min`, `Math.max`ë¥¼ ì´ìš©í–ˆëŠ”ë°

```ts
// ë‚´ ì†ŒìŠ¤
const gemsArr = [...gemsMap.values()]
const start = Math.min(...gemsArr)
const end = Math.max(...gemsArr)
if (result[1] - result[0] > end - start) {
  result = [start + 1, end + 1]
}

// ëª¨ë²”ë‹µì•ˆ ì†ŒìŠ¤
gemLengths.push([gemMap.values().next().value + 1, i + 1])
```

ì—¬ê¸°ì„œëŠ” `getMap.values().next().value`ë¥¼ ì´ìš©í•´ ìµœì†Œê°’ì„ êµ¬í–ˆë‹¤.

`getMap.values().next().value`ë§Œ ê°€ì ¸ì™€ì„œ ë‚´ ì†ŒìŠ¤ì½”ë“œì— ì ìš©í•´ë³´ë‹ˆ ìµœì†Œê°’ì„ ê°€ì ¸ì˜¤ì§€ëŠ” ì•Šê¸°ì— ì¡°ê¸ˆ ë” ì°¬ì°¬íˆ ëœ¯ì–´ë³´ë‹ˆ

```ts
gemMap.delete(gem)
gemMap.set(gem, i)
```

ì—ì„œ `gemMap.delete(gem)`ë¥¼ í†µí•´ ë³´ì„ì„ ì‚­ì œí•˜ê³  ë‹¤ì‹œ ë“±ë¡í•˜ì—¬ `gemMap`ì˜ ë³´ì„ ìˆœì„œë¥¼ ì¸ë±ìŠ¤ ìˆœì„œì™€ ë™ì¼í•˜ê²Œ ìœ ì§€í•  ìˆ˜ ìˆì—ˆë‹¤.

ê·¸ë˜ì„œ `getMap.values().next()`ê°€ ì œì¼ ë¨¼ì € ë“±ë¡ëœ ë³´ì„ì˜ ì¢…ë¥˜ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê²ƒì´ì—ˆë‹¤.

ê·¸ë˜ì„œ ë‚´ ì†ŒìŠ¤ì½”ë“œë„ ë°”ê¿”ë³´ë©´...

### ì§„ì§œ\_ìµœìµœìµœì¢….src

```ts
function solution(gems) {
  const gemsKind = new Set(gems).size
  const gemsMap = new Map()
  let result = [0, Infinity]

  for (let i = 0; i < gems.length; i++) {
    gemsMap.delete(gems[i])
    gemsMap.set(gems[i], i)

    if (gemsMap.size === gemsKind) {
      const start = gemsMap.values().next().value
      const end = i
      if (result[1] - result[0] > end - start) {
        result = [start + 1, end + 1]
      }
      gemsMap.delete(gems[start])
    }
  }
  return result
}
```
